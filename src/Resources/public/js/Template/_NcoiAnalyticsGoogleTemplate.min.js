class _NcoiAnalyticsGoogleTemplate extends NcoiTemplate{setCookies(e,t=null){1===$(".ncoi---behind").data("google-consent")?gtag("consent","update",{ad_user_data:"granted",ad_personalization:"granted",ad_storage:"granted",analytics_storage:"granted"}):this.hasContaoGoogleTemplate()?this.addContaoTemplate(t):this.executeDefault(this.getTrackingId(e))}hasContaoGoogleTemplate(){let e=this.getScript(),t=this.getWrapper();return e.length>0&&0===t.length}addContaoTemplate(){let e=this.getScript().html();e=e.replace("\x3c!--",""),e=e.replace("--\x3e","");try{e=atob(e)}catch(e){console.error("Das Analyse Template enth√§lt invalide Zeichen.")}(0,this.$)("head").prepend(e)}executeDefault(e){function t(){dataLayer.push(arguments)}this.$.getScript("https://www.googletagmanager.com/gtag/js?id="+e),window.dataLayer=window.dataLayer||[],t("js",new Date),t("config",e,{cookie_update:!1,cookie_flags:"SameSite=none;Secure"})}getWrapper(){return(0,this.$)(".analytics-decoded-googleAnalytics")}getScript(){return(0,this.$)("#analytics-encoded-googleAnalytics")}remove(){let e=this.getWrapper();null!==e&&e.remove()}}